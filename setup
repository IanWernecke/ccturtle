#!/bin/lua
fs.delete("turtle")
local function download(data, file)
   local f = fs.open(file, "w")
   f.write(data)
   f.close()
end
local downloaded = 0
local failed = {}
local directories = {
  "turtle/.",
  "turtle/apis",
  "turtle/bore",
  "turtle/build",
  "turtle/build/signal",
  "turtle/clear",
  "turtle/clear/forward",
  "turtle/clear/magnet",
  "turtle/clear/magnet/spiral",
  "turtle/clear/spiral",
  "turtle/describe",
  "turtle/dig",
  "turtle/fill",
  "turtle/fill/spiral",
  "turtle/inventory",
  "turtle/mine",
  "turtle/mine/shelf",
  "turtle/mine/stairs",
  "turtle/mine/vein",
  "turtle/move",
  "turtle/place",
  "turtle/punch",
  "turtle/seek",
  "turtle/slide",
  "turtle/strafe",
  "turtle/util"
}
local paths = {
  "https://raw.github.com/IanWernecke/ccturtle/master/basic" = "turtle/basic",
  "https://raw.github.com/IanWernecke/ccturtle/master/sanitize" = "turtle/sanitize",
  "https://raw.github.com/IanWernecke/ccturtle/master/setup" = "turtle/setup",
  "https://raw.github.com/IanWernecke/ccturtle/master/startup" = "turtle/startup",
  "https://raw.github.com/IanWernecke/ccturtle/master/update" = "turtle/update",
  "https://raw.github.com/IanWernecke/ccturtle/master/apis/basic" = "turtle/apis/basic",
  "https://raw.github.com/IanWernecke/ccturtle/master/apis/bore" = "turtle/apis/bore",
  "https://raw.github.com/IanWernecke/ccturtle/master/apis/clear" = "turtle/apis/clear",
  "https://raw.github.com/IanWernecke/ccturtle/master/apis/cleft" = "turtle/apis/cleft",
  "https://raw.github.com/IanWernecke/ccturtle/master/apis/con" = "turtle/apis/con",
  "https://raw.github.com/IanWernecke/ccturtle/master/apis/describe" = "turtle/apis/describe",
  "https://raw.github.com/IanWernecke/ccturtle/master/apis/detect" = "turtle/apis/detect",
  "https://raw.github.com/IanWernecke/ccturtle/master/apis/dig" = "turtle/apis/dig",
  "https://raw.github.com/IanWernecke/ccturtle/master/apis/fill" = "turtle/apis/fill",
  "https://raw.github.com/IanWernecke/ccturtle/master/apis/inventory" = "turtle/apis/inventory",
  "https://raw.github.com/IanWernecke/ccturtle/master/apis/match" = "turtle/apis/match",
  "https://raw.github.com/IanWernecke/ccturtle/master/apis/mine" = "turtle/apis/mine",
  "https://raw.github.com/IanWernecke/ccturtle/master/apis/move" = "turtle/apis/move",
  "https://raw.github.com/IanWernecke/ccturtle/master/apis/place" = "turtle/apis/place",
  "https://raw.github.com/IanWernecke/ccturtle/master/apis/punch" = "turtle/apis/punch",
  "https://raw.github.com/IanWernecke/ccturtle/master/apis/replace" = "turtle/apis/replace",
  "https://raw.github.com/IanWernecke/ccturtle/master/apis/seek" = "turtle/apis/seek",
  "https://raw.github.com/IanWernecke/ccturtle/master/apis/slide" = "turtle/apis/slide",
  "https://raw.github.com/IanWernecke/ccturtle/master/bore/back" = "turtle/bore/back",
  "https://raw.github.com/IanWernecke/ccturtle/master/bore/down" = "turtle/bore/down",
  "https://raw.github.com/IanWernecke/ccturtle/master/bore/forward" = "turtle/bore/forward",
  "https://raw.github.com/IanWernecke/ccturtle/master/bore/left" = "turtle/bore/left",
  "https://raw.github.com/IanWernecke/ccturtle/master/bore/right" = "turtle/bore/right",
  "https://raw.github.com/IanWernecke/ccturtle/master/bore/up" = "turtle/bore/up",
  "https://raw.github.com/IanWernecke/ccturtle/master/build/catwalk" = "turtle/build/catwalk",
  "https://raw.github.com/IanWernecke/ccturtle/master/build/wall" = "turtle/build/wall",
  "https://raw.github.com/IanWernecke/ccturtle/master/build/signal/home" = "turtle/build/signal/home",
  "https://raw.github.com/IanWernecke/ccturtle/master/clear/tunnel" = "turtle/clear/tunnel",
  "https://raw.github.com/IanWernecke/ccturtle/master/clear/forward/both" = "turtle/clear/forward/both",
  "https://raw.github.com/IanWernecke/ccturtle/master/clear/forward/left" = "turtle/clear/forward/left",
  "https://raw.github.com/IanWernecke/ccturtle/master/clear/forward/right" = "turtle/clear/forward/right",
  "https://raw.github.com/IanWernecke/ccturtle/master/clear/magnet/spiral/left" = "turtle/clear/magnet/spiral/left",
  "https://raw.github.com/IanWernecke/ccturtle/master/clear/magnet/spiral/right" = "turtle/clear/magnet/spiral/right",
  "https://raw.github.com/IanWernecke/ccturtle/master/clear/spiral/left" = "turtle/clear/spiral/left",
  "https://raw.github.com/IanWernecke/ccturtle/master/clear/spiral/right" = "turtle/clear/spiral/right",
  "https://raw.github.com/IanWernecke/ccturtle/master/describe/back" = "turtle/describe/back",
  "https://raw.github.com/IanWernecke/ccturtle/master/describe/down" = "turtle/describe/down",
  "https://raw.github.com/IanWernecke/ccturtle/master/describe/forward" = "turtle/describe/forward",
  "https://raw.github.com/IanWernecke/ccturtle/master/describe/left" = "turtle/describe/left",
  "https://raw.github.com/IanWernecke/ccturtle/master/describe/right" = "turtle/describe/right",
  "https://raw.github.com/IanWernecke/ccturtle/master/describe/up" = "turtle/describe/up",
  "https://raw.github.com/IanWernecke/ccturtle/master/dig/back" = "turtle/dig/back",
  "https://raw.github.com/IanWernecke/ccturtle/master/dig/down" = "turtle/dig/down",
  "https://raw.github.com/IanWernecke/ccturtle/master/dig/forward" = "turtle/dig/forward",
  "https://raw.github.com/IanWernecke/ccturtle/master/dig/left" = "turtle/dig/left",
  "https://raw.github.com/IanWernecke/ccturtle/master/dig/right" = "turtle/dig/right",
  "https://raw.github.com/IanWernecke/ccturtle/master/dig/up" = "turtle/dig/up",
  "https://raw.github.com/IanWernecke/ccturtle/master/fill/auto" = "turtle/fill/auto",
  "https://raw.github.com/IanWernecke/ccturtle/master/fill/back" = "turtle/fill/back",
  "https://raw.github.com/IanWernecke/ccturtle/master/fill/down" = "turtle/fill/down",
  "https://raw.github.com/IanWernecke/ccturtle/master/fill/forward" = "turtle/fill/forward",
  "https://raw.github.com/IanWernecke/ccturtle/master/fill/gap" = "turtle/fill/gap",
  "https://raw.github.com/IanWernecke/ccturtle/master/fill/layer" = "turtle/fill/layer",
  "https://raw.github.com/IanWernecke/ccturtle/master/fill/left" = "turtle/fill/left",
  "https://raw.github.com/IanWernecke/ccturtle/master/fill/right" = "turtle/fill/right",
  "https://raw.github.com/IanWernecke/ccturtle/master/fill/up" = "turtle/fill/up",
  "https://raw.github.com/IanWernecke/ccturtle/master/fill/spiral/left" = "turtle/fill/spiral/left",
  "https://raw.github.com/IanWernecke/ccturtle/master/fill/spiral/right" = "turtle/fill/spiral/right",
  "https://raw.github.com/IanWernecke/ccturtle/master/inventory/count" = "turtle/inventory/count",
  "https://raw.github.com/IanWernecke/ccturtle/master/inventory/select" = "turtle/inventory/select",
  "https://raw.github.com/IanWernecke/ccturtle/master/mine/skylight" = "turtle/mine/skylight",
  "https://raw.github.com/IanWernecke/ccturtle/master/mine/skystone" = "turtle/mine/skystone",
  "https://raw.github.com/IanWernecke/ccturtle/master/mine/trench" = "turtle/mine/trench",
  "https://raw.github.com/IanWernecke/ccturtle/master/mine/trenchSeek" = "turtle/mine/trenchSeek",
  "https://raw.github.com/IanWernecke/ccturtle/master/mine/shelf/left" = "turtle/mine/shelf/left",
  "https://raw.github.com/IanWernecke/ccturtle/master/mine/shelf/right" = "turtle/mine/shelf/right",
  "https://raw.github.com/IanWernecke/ccturtle/master/mine/stairs/down" = "turtle/mine/stairs/down",
  "https://raw.github.com/IanWernecke/ccturtle/master/mine/vein/back" = "turtle/mine/vein/back",
  "https://raw.github.com/IanWernecke/ccturtle/master/mine/vein/down" = "turtle/mine/vein/down",
  "https://raw.github.com/IanWernecke/ccturtle/master/mine/vein/forward" = "turtle/mine/vein/forward",
  "https://raw.github.com/IanWernecke/ccturtle/master/mine/vein/left" = "turtle/mine/vein/left",
  "https://raw.github.com/IanWernecke/ccturtle/master/mine/vein/right" = "turtle/mine/vein/right",
  "https://raw.github.com/IanWernecke/ccturtle/master/mine/vein/up" = "turtle/mine/vein/up",
  "https://raw.github.com/IanWernecke/ccturtle/master/move/back" = "turtle/move/back",
  "https://raw.github.com/IanWernecke/ccturtle/master/move/climb" = "turtle/move/climb",
  "https://raw.github.com/IanWernecke/ccturtle/master/move/down" = "turtle/move/down",
  "https://raw.github.com/IanWernecke/ccturtle/master/move/forward" = "turtle/move/forward",
  "https://raw.github.com/IanWernecke/ccturtle/master/move/left" = "turtle/move/left",
  "https://raw.github.com/IanWernecke/ccturtle/master/move/magnet" = "turtle/move/magnet",
  "https://raw.github.com/IanWernecke/ccturtle/master/move/right" = "turtle/move/right",
  "https://raw.github.com/IanWernecke/ccturtle/master/move/up" = "turtle/move/up",
  "https://raw.github.com/IanWernecke/ccturtle/master/place/back" = "turtle/place/back",
  "https://raw.github.com/IanWernecke/ccturtle/master/place/down" = "turtle/place/down",
  "https://raw.github.com/IanWernecke/ccturtle/master/place/forward" = "turtle/place/forward",
  "https://raw.github.com/IanWernecke/ccturtle/master/place/left" = "turtle/place/left",
  "https://raw.github.com/IanWernecke/ccturtle/master/place/right" = "turtle/place/right",
  "https://raw.github.com/IanWernecke/ccturtle/master/place/up" = "turtle/place/up",
  "https://raw.github.com/IanWernecke/ccturtle/master/punch/back" = "turtle/punch/back",
  "https://raw.github.com/IanWernecke/ccturtle/master/punch/down" = "turtle/punch/down",
  "https://raw.github.com/IanWernecke/ccturtle/master/punch/forward" = "turtle/punch/forward",
  "https://raw.github.com/IanWernecke/ccturtle/master/punch/left" = "turtle/punch/left",
  "https://raw.github.com/IanWernecke/ccturtle/master/punch/right" = "turtle/punch/right",
  "https://raw.github.com/IanWernecke/ccturtle/master/punch/up" = "turtle/punch/up",
  "https://raw.github.com/IanWernecke/ccturtle/master/seek/back" = "turtle/seek/back",
  "https://raw.github.com/IanWernecke/ccturtle/master/seek/down" = "turtle/seek/down",
  "https://raw.github.com/IanWernecke/ccturtle/master/seek/forward" = "turtle/seek/forward",
  "https://raw.github.com/IanWernecke/ccturtle/master/seek/left" = "turtle/seek/left",
  "https://raw.github.com/IanWernecke/ccturtle/master/seek/right" = "turtle/seek/right",
  "https://raw.github.com/IanWernecke/ccturtle/master/seek/up" = "turtle/seek/up",
  "https://raw.github.com/IanWernecke/ccturtle/master/slide/back" = "turtle/slide/back",
  "https://raw.github.com/IanWernecke/ccturtle/master/slide/down" = "turtle/slide/down",
  "https://raw.github.com/IanWernecke/ccturtle/master/slide/forward" = "turtle/slide/forward",
  "https://raw.github.com/IanWernecke/ccturtle/master/slide/left" = "turtle/slide/left",
  "https://raw.github.com/IanWernecke/ccturtle/master/slide/right" = "turtle/slide/right",
  "https://raw.github.com/IanWernecke/ccturtle/master/slide/up" = "turtle/slide/up",
  "https://raw.github.com/IanWernecke/ccturtle/master/strafe/left" = "turtle/strafe/left",
  "https://raw.github.com/IanWernecke/ccturtle/master/strafe/right" = "turtle/strafe/right",
  "https://raw.github.com/IanWernecke/ccturtle/master/util/detail" = "turtle/util/detail",
  "https://raw.github.com/IanWernecke/ccturtle/master/util/select" = "turtle/util/select",
  "https://raw.github.com/IanWernecke/ccturtle/master/util/stub" = "turtle/util/stub"
}
for i=1,#directories do
   fs.makeDir(directories[i])
end
for key,value in pairs(files) do
   http.request(key)
end
while downloaded < 115 do
   local e, a, b = os.pullEvent()
   if e == "http_success" then
       download(b.readAll(),paths[a])
       downloaded = downloaded + 1
   elseif e == "http_failure" then
       failed[os.startTime(3)] = a
   elseif e == "timer" and failed[a] then
       http.request(failed[a])
   end
end